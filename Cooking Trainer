#Set restock agent 5 to 2 skillets, 25 ribs (or fish), 2 kindling
#Stand by bankbox with ribs (or fish), kindling, and skillets inside


#Choose the base food type, 2545 for ribs, 2426 for fish
@setvar! foodType 2545

#How high are you looking to train your skill?
@setvar! skillTarget 100


#Restock skillets, ribs (or fish), and kindling
if counttype foodType backpack < 10 or not findtype "frypan" backpack or not findtype "kindling" backpack
    say "Bank"
    wait 100
    restock 5
    wft
    hotkey "Target Self"
    wait 2000

    if counttype foodType backpack < 10 or not findtype "frypan" backpack or not findtype "kindling" backpack
        overhead "Necessary resource is missing from bank box!"
        wait 5000
        replay
    endif
endif

while skill "Cooking" < skillTarget and counttype foodType backpack > 3 and findtype "kindling" backpack and findtype "frypan" backpack as skillet
    
    #Make sure there's a campfire nearby to cook at
    if not findtype "campfire" true
      if findtype "kindling" backpack as kindling
        dclick kindling
          if insysmsg "You fail to ignite"
            wait 1000
          endif
      else
        overhead "You have no kindling."
        wait 3000
        replay
      endif
      replay
    endif

    if skill "Cooking" < 50
        overhead "Go pay for training to 50 skill."
        wait 5000
        replay
    endif

  gumpclose
  overhead "Cooking..."
  dclick "skillet" backpack
  waitforgump 949095101
  gumpresponse 100 949095101
  waitforgump 949095101
  
  if foodType = 2545
    if skill "Cooking" < 100
      gumpresponse 202 949095101
    else
      gumpresponse 205 949095101
    endif

  elseif foodType = 2426
    if skill "Cooking < 100
      gumpresponse 204 949095101
    else
      gumpresponse 207 949095101
    endif

  else
    overhead "Check foodType variable"
  endif

  wait 3500
endwhile

replay
